<select name="{{ widget.name }}"
    {% for name, value in widget.attrs.items %}
        {% if value is not False %}
            {{ name }}
            {% if value is not True %}
                ="{{ value|stringformat:'s' }}"
            {% endif %}
        {% endif %}
    {% endfor %}
>
    {% for group_name, group_choices, group_index in widget.optgroups %}
        {% for option in group_choices %}
            {% include option.template_name with widget=option %}
        {% endfor %}
    {% endfor %}
</select>

